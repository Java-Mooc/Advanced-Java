
public class Main {

	public static void main(String[] args) {
		//int[] arr = {0,1,0,2,1,0,1,3,2,1,2,1};
		int[] arr = {0,1,0};
		System.out.println(getVolume(arr));
	}
	
	static int getVolume(int[] alturas){
		int volume = 0;
		int[] maximoPelaEsquerda = new int[alturas.length];
		int[] maximoPelaDireita = new int[alturas.length];
		
		int oMaisAltoAteAgoraE = 0;
		int oMaisAltoAteAgoraD = 0;
		for(int i = 0; i < alturas.length; i++){
			//ESQUERDA
			if(alturas[i] < oMaisAltoAteAgoraE)
				maximoPelaEsquerda[i] = oMaisAltoAteAgoraE - alturas[i];
			else if(alturas[i] > oMaisAltoAteAgoraE)
				oMaisAltoAteAgoraE = alturas[i];
			
			//DIREITA
			int j = alturas.length - 1 - i;
			if(alturas[j] < oMaisAltoAteAgoraD)
				maximoPelaDireita[j] = oMaisAltoAteAgoraD - alturas[j];
			else if(alturas[j] > oMaisAltoAteAgoraD)
				oMaisAltoAteAgoraD = alturas[j];
		}
		
		for(int i = 0; i < alturas.length; i++)
			volume += Math.min(maximoPelaDireita[i], maximoPelaEsquerda[i]);
		
		return volume;
	}
}
